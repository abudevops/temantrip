!function(t){"use strict";var e=function(e,r){this.options=r;var a=t(e),n=a.is("img"),i=n?a.attr("src"):a.backgroundImageUrl(),s=this.options.generateUrl(a,i);t("<img/>").attr("src",s).load(function(){n?a.attr("src",t(this).attr("src")):(a.backgroundImageUrl(t(this).attr("src")),a.backgroundSize(t(this)[0].width,t(this)[0].height)),a.attr("data-retina","complete")})};e.prototype={constructor:e},t.fn.retinaReplace=function(a){return r()<=1?this:this.each(function(){var r=t(this),n=r.data("retinaReplace"),i=t.extend({},t.fn.retinaReplace.defaults,r.data(),"object"==typeof a&&a);n||r.data("retinaReplace",n=new e(this,i)),"string"==typeof a&&n[a]()})},t.fn.retinaReplace.defaults={suffix:"_2x",generateUrl:function(t,e){var r=e.lastIndexOf("."),a=e.substr(r+1);return e.substr(0,r)+this.suffix+"."+a}},t.fn.retinaReplace.Constructor=e;var r=function(){return window.devicePixelRatio===undefined?1:window.devicePixelRatio};t.fn.backgroundImageUrl=function(e){return e?this.each(function(){t(this).css("background-image",'url("'+e+'")')}):t(this).css("background-image").replace(/url\(|\)|"|'/g,"")},t.fn.backgroundSize=function(e,r){var a=Math.floor(e/2)+"px "+Math.floor(r/2)+"px";t(this).css("background-size",a),t(this).css("-webkit-background-size",a)},t(function(){t("[data-retina='true']").retinaReplace()})}(window.jQuery);